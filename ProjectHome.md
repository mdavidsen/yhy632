Tested on Linux on both x86 and mips. Please go to the Source tab for actual code.
